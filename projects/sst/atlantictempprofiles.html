<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="sst.css">
<body>

<div id="left">
    Month:
    <select id="monthselect">
        <option value=01>1</option>
        <option value=02>2</option>
        <option value=03>3</option>
        <option value=04>4</option>
        <option value=05>5</option>
        <option value=06>6</option>
        <option value=07>7</option>
        <option value=08>8</option>
        <option value=09 selected>9</option>
        <option value=10>10</option>
        <option value=11>11</option>
        <option value=12>12</option>
    </select>

    Day:
    <select id="dayselect">
        <option value=01>1</option>
        <option value=02>2</option>
        <option value=03>3</option>
        <option value=04>4</option>
        <option value=05>5</option>
        <option value=06>6</option>
        <option value=07>7</option>
        <option value=08>8</option>
        <option value=09>9</option>
        <option value=10>10</option>
        <option value=11>11</option>
        <option value=12>12</option>
        <option value=13>13</option>
        <option value=14>14</option>
        <option value=15>15</option>
        <option value=16>16</option>
        <option value=17>17</option>
        <option value=18>18</option>
        <option value=19>19</option>
        <option value=20>20</option>
        <option value=21>21</option>
        <option value=22>22</option>
        <option value=23>23</option>
        <option value=24>24</option>
        <option value=25>25</option>
        <option value=26>26</option>
        <option value=27>27</option>
        <option value=28>28</option>
        <option value=29>29</option>
        <option value=30>30</option>
        <option value=31>31</option>
    </select>

    Year:
    <select id="yearselect">
        <option value=1981>1981</option>
        <option value=1982>1982</option>
        <option value=1983>1983</option>
        <option value=1984>1984</option>
        <option value=1985>1985</option>
        <option value=1986>1986</option>
        <option value=1987>1987</option>
        <option value=1988>1988</option>
        <option value=1989>1989</option>
        <option value=1990>1990</option>
        <option value=1991>1991</option>
        <option value=1992>1992</option>
        <option value=1993>1993</option>
        <option value=1994>1994</option>
        <option value=1995>1995</option>
        <option value=1996>1996</option>
        <option value=1997>1997</option>
        <option value=1998>1998</option>
        <option value=1999>1999</option>
        <option value=2000>2000</option>
        <option value=2001>2001</option>
        <option value=2002>2002</option>
        <option value=2003>2003</option>
        <option value=2004>2004</option>
        <option value=2005>2005</option>
        <option value=2006>2006</option>
        <option value=2007>2007</option>
        <option value=2008>2008</option>
        <option value=2009>2009</option>
        <option value=2010>2010</option>
        <option value=2011>2011</option>
        <option value=2012>2012</option>
        <option value=2013>2013</option>
        <option value=2014>2014</option>
    </select>

    <button onclick="update(0, 120, 0, 200)">Update</button>

    <div id="map">
        <div id="imagediv"></div>
        <div id="mapdiv"></div>
    </div>

    <div id="chart"></div>
</div>

<div id="right">
    <button onclick="pushtomap(currentregion)">Push</button>

    <div id="multiplot"></div>
    <button onclick="clearmultiplot()">Clear</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="/documentation/js/datamaps.world.min.js"></script>
<script src="init.js"></script>
<script src="update.js"></script>
<script src="pushdatatomultiplot.js"></script>

<script>
    //BEGIN MAP VARIABLES
    var mapmargin = {top: 20, right: 20, bottom: 20, left: 20};
    var mapwidth = 600 + 40 - mapmargin.left - mapmargin.right;
    var mapheight = 360 + 40 - mapmargin.top - mapmargin.bottom;

    var mx = d3.scale.linear();
    var my = d3.scale.linear();

    var mapxAxis = d3.svg.axis()
            .scale(mx)
            .orient("top")
            .tickValues([-100, -90, -80, -70, -60, -50])
            .tickSize(mapheight);

    var mapyAxis = d3.svg.axis()
            .scale(my)
            .orient("right")
            .tickValues([10, 20, 30, 40])
            .tickSize(mapwidth);

    var mapcolor = d3.scale.linear()
            .domain([20, 23, 26, 29, 32, 35])
            .range(["#0000FF", "#00FFFF", "#00FF00", "#FFFF00", "#FF9900", "#FF0000"]);

    var currentregion = {minlat: 10, maxlat: 40, minlon: -100, maxlon: -50};
    //END MAP VARIABLES

    // BEGIN HISTOGRAM VARIABLES
    var histmargin = {top: 20, right: 20, bottom: 20, left: 40},
            histwidth = 600 + 40 - histmargin.left - histmargin.right,
            histheight = 360 + 50 - histmargin.top - histmargin.bottom;

    var hx = d3.scale.linear()
            .domain([0, 35])
            .range([0, histwidth]);

    var hy = d3.scale.linear()
            .range([histheight, 0]);

    var xAxis = d3.svg.axis()
            .scale(hx)
            .orient("bottom");

    var yAxis = d3.svg.axis()
            .scale(hy)
            .orient("left")
            .ticks(10);

    var barsvg = d3.select("#chart")
            .append("svg")
            .attr("width", histwidth + histmargin.left + histmargin.right)
            .attr("height", histheight + histmargin.top + histmargin.bottom)
            .append("g")
            .attr("transform", "translate(" + histmargin.left + "," + histmargin.top + ")");
    // END HISTOGRAM VARIABLES

    // MULTIPLOT VARIABLES
    var mpmargin = {top: 30, right: 30, bottom: 20, left: 35},
            mpwidth = 720 - mpmargin.left - mpmargin.right,
            mpheight = histheight + mapheight + 100 - mpmargin.top - mpmargin.bottom;

    var mpx = d3.scale.linear()
            .range([0, mpwidth]);

    var mpy = d3.scale.linear()
            .range([mpheight, 0]);

    var mpxAxis = d3.svg.axis()
            .scale(mpx)
            .orient("bottom");

    var mpyAxis = d3.svg.axis()
            .scale(mpy)
            .orient("left");
    // END MULTIPLOT VARIABLES

    var mpsvg = d3.select("body").select("#multiplot").append("svg")
            .attr("width", mpwidth + mpmargin.left + mpmargin.right)
            .attr("height", mpheight + mpmargin.top + mpmargin.bottom)
            .append("g")
            .attr("transform", "translate(" + mpmargin.left + "," + mpmargin.top + ")");

    mpx.domain([0, 35]);
    var mpymax = 100;
    mpy.domain([0, mpymax]);

    mpsvg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + mpheight + ")")
            .call(mpxAxis)
            .append("text")
            .attr("y", 20)
            .attr("x", 895)
            .attr("dy", ".71em")
            .style("text-anchor", "end")
            .text("Temperate (C)");

    mpsvg.append("g")
            .attr("class", "y axis")
            .call(mpyAxis)
            .append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end")
            .text("Instances of temperatures of bin.");


    var hist = [];

    var multiplotnum = [];

    var numplots = 0;

    function pushtomap(region){
        pushdatatomultiplot(hist, region);
    }

    // END UPDATE FUNCTION
    init();

</script>
</body>